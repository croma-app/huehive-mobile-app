{"version":3,"sources":["/home/runner/work/croma/croma/components/Card.js","/home/runner/work/croma/croma/components/MultiColorView.js","/home/runner/work/croma/croma/components/EmptyView.js","/home/runner/work/croma/croma/libs/Helpers.js","/home/runner/work/croma/croma/screens/HomeScreen.js","/home/runner/work/croma/croma/components/PaletteCard.js","/home/runner/work/croma/croma/libs/ColorPicker.js","/home/runner/work/croma/croma/libs/ShareMenu.web.js","/home/runner/work/croma/croma/components/ColorDetails.js","/home/runner/work/croma/croma/components/CromaButton.js","/home/runner/work/croma/croma/screens/ColorDetailScreen.js","/home/runner/work/croma/croma/screens/ColorPickerScreen.js","/home/runner/work/croma/croma/components/PalettePreviewCard.js","/home/runner/work/croma/croma/screens/PalettesScreen.js","/home/runner/work/croma/croma/components/SavePalette.js","/home/runner/work/croma/croma/components/SingleColorView.js","/home/runner/work/croma/croma/screens/ColorListScreen.js","/home/runner/work/croma/croma/components/SingleColorCard.js","/home/runner/work/croma/croma/screens/PaletteScreen.js","/home/runner/work/croma/croma/screens/ProVersionScreen.js","/home/runner/work/croma/croma/screens/CommonPalettesScreen.js","/home/runner/work/croma/croma/screens/PaletteLibraryScreen.js","/home/runner/work/croma/croma/screens/AboutUsScreen.js","/home/runner/work/croma/croma/constants/Layout.js","/home/runner/work/croma/croma/components/HamburgerMenu.js","/home/runner/work/croma/croma/navigation/NavigatorHelper.js","/home/runner/work/croma/croma/screens/AddPaletteManuallyScreen.js","/home/runner/work/croma/croma/screens/SavePaletteScreen.js","/home/runner/work/croma/croma/screens/SyncPalettesScreen.web.js","/home/runner/work/croma/croma/components/ErrorBoundary.js","/home/runner/work/croma/croma/App.js","/home/runner/work/croma/croma/web-build/register-service-worker.js","/home/runner/work/croma/croma/libs/Storage.js","/home/runner/work/croma/croma/store/store.js","/home/runner/work/croma/croma/constants/Colors.js","/home/runner/work/croma/croma/constants/palettes/palettes.js","/home/runner/work/croma/croma/assets/images/dots.png","/home/runner/work/croma/croma/components/CommonDialogs.js"],"names":["Card","animation","this","props","animationType","duration","useNativeDriver","Platform","OS","onClick","onPress","style","styles","inner","boxShadow","children","React","StyleSheet","create","backgroundColor","Colors","white","marginVertical","elevation","MultiColorView","palette","colors","map","item","index","color","key","alignItems","flexDirection","height","flex","EmptyView","logEvent","eventName","value","length","NativeModules","CromaModule","constructor","Object","isObject","JSON","stringify","purchase","setPurchase","purchaseType","InAppBilling","open","details","ToastAndroid","show","LONG","close","HomeScreen","navigation","route","Dimensions","get","useContext","CromaContext","isLoading","allPalettes","deletedPalettes","undoDeletionByName","isPro","setColorList","setColorPickerCallback","setSuggestedName","setDetailedColor","clearPalette","useState","pickImgloading","setPickImgLoading","pickImageResult","base64","ImagePicker","mediaTypes","All","quality","pickImage","undefined","result","Jimp","read","Buffer","uri","useEffect","Permissions","status","alert","getPermissionAsync","Linking","getInitialURL","then","url","split","forEach","part","decodeURIComponent","Set","parse","navigate","ShareMenu","getSharedText","text","Color","i","l","tohex","toLowerCase","keys","container","minHeight","useHeaderHeight","showsVerticalScrollIndicator","name","slice","bgColor","hideShadow","buttonColor","fabPrimary","offsetY","spacing","fixNativeFeedbackRadius","actionButton","Item","title","a","async","navigateToColorPicker","pickedColors","console","log","actionButtonIcon","cancelled","pickTopColorsFromImage","image","ColorPicker","getProminentColors","primary","openURL","margin","justifyContent","fontSize","position","transform","right","Math","max","width","left","icon","PaletteCard","shared","setShared","setAnimationType","deletePaletteByName","setCurrentPalette","bottom","label","actionButtonsView","top","padding","textAlign","borderRadius","event","preventDefault","stopPropagation","canvas","document","createElement","context","getContext","fillStyle","fillRect","link","download","href","toDataURL","click","delete","size","Clipboard","setString","colorObj","join","encodeURIComponent","setTimeout","Share","share","message","action","sharedAction","activityType","dismissedAction","marginHorizontal","darkGrey","resize","AUTO","data","_prepareDataForKmeans","ans","Date","now","kmeans","initialization","maxIterations","centroids","sort","c1","c2","kmeansColors","centroid","_labToHex","_getFinalColors","c","_toArray","tohsv","filteredColors","colorList","j","push","finalColors","lab","bitmap","intColor","getPixelColor","hex","_toHexColor","xyz","tolab","substr","v","parseFloat","rgba","intToRGBA","r","g","b","indexOf","ColorDetail","copyiedIndex","setCopyiedIntex","alignSelf","info","colorNameText","fontWeight","fullColor","items","torgb","tohsl","tohwb","tocmyk","luminance","toFixed","darkness","debouncedSetCopiedIndex","func","delay","debounceTimer","args","arguments","clearTimeout","apply","debounce","View","marginTop","writeToClipboard","Text","FontAwesome","button","shadowColor","shadowOffset","shadowOpacity","shadowRadius","marginBottom","display","textTransform","CromaButton","onPressWithLoader","textStyle","loaderState","setLoaderState","error","ActivityIndicator","MaterialIcons","paddingLeft","paddingRight","PalettePreviewCard","SavePalette","navigationPath","addPalette","suggestedName","setFinalColors","isPaletteNameExist","setIsPaletteNameExist","isUnlockProNotification","setIsUnlockProNotifiction","colorsFromParams","paletteName","setPaletteName","card","TextInput","input","placeholder","onChangeText","replace","borderBottomColor","borderBottomWidth","SingleColorView","colorText","CustomHeader","listview","SingleColorCard","state","setState","colorDeleteFromPalette","currentPaletteName","renamePalette","currentPalette","isEditingPaletteName","setIsEditingPaletteName","autoFocus","Feather","setNavigationOptions","setOptions","headerTitle","paddingTop","paddingBottom","line","material","body1","require","default","row","desc","GITHUB_URL","paddingHorizontal","paddingVertical","linksMainView","linkView","subtitle","AboutUsScreen","ScrollView","TouchableOpacity","MaterialCommunityIcons","appInstallTime","setAppInstallTime","getAppInstallTime","parseInt","titleArea","Image","logo","source","menu","menuItem","menuItemView","menuIcon","Ionicons","textAreaMenuItem","imageResult","navigateToImageColorPicker","getTime","hasRateUsPeriodExpired","MenuLink","id","FontAwesome5","textAlignVertical","menuHeight","screens","component","options","detailedColor","useLayoutEffect","set","uniqueColors","has","add","commonPalettes","palettes","setColor","colorPickerCallback","onChangeColor","goBack","undoColorDeletion","addColorToPalette","deletedColors","deleteColor","ActionButton","colorName","setCommonPalettes","test","toString","str","toUpperCase","Drawer","createDrawerNavigator","Stack","createStackNavigator","getDrawerNavigator","Navigator","initialRouteName","drawerType","drawerContent","getDrawerContent","screen","Screen","screenOptions","headerStyle","headerLeft","marginLeft","openDrawer","Entypo","hamburgerMenuIcon","headerTitleContainerStyle","DrawerContentScrollView","HamburgerMenu","cardStyle","headerRight","marginRight","headerTintColor","linking","enabled","prefixes","config","path","contentWrapper","maxWidth","ErrorBoundary","hasError","window","location","Component","App","isPalettesLoaded","setIsPalettesLoaded","applicationState","applicationHook","loadInitPaletteFromStore","getConfigString","platfrom","isProFree","spinner","animating","MainContent","Provider","StatusBar","barStyle","hidden","primaryDark","translucent","networkActivityIndicatorVisible","className","NavigationContainer","navigator","wrappedScreens","getStackNavigator","addEventListener","serviceWorker","register","scope","catch","Storage","getApplicationState","AsyncStorage","getItem","setApplicationState","setItem","setUserAlreadyExists","checkUserAlreadyExists","sortPaletteColors","sortPalettes","allPalettesArray","createdAt","ordered","_palette","valueOf","removePaletteFromStateByName","clearDeletedColor","splice","timeout","setStoreLoaded","isStoreLoaded","user","_state","loadOwnedPurchasesFromGoogle","isPurchased","oldName","colorIndex","deletedColor","concat","purchaseDetails","setUser","stateCopy","syncStateToStore","createContext","tintColor","tabIconDefault","tabIconSelected","tabBar","errorBackground","errorText","warningBackground","warningText","noticeBackground","noticeText","accent","grey","lightGrey","black","fadedBlack","list","module","exports","DialogContainer","UndoDialog","undoCard","marginAndRadius","undoText","undoButton","TextDialog","min","zIndex"],"mappings":"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","file":"static/js/app.69a62273.chunk.js","sourcesContent":["import * as React from \"react\";\nimport * as Animatable from \"react-native-animatable\";\nimport { StyleSheet, Platform, View } from \"react-native\";\nimport Colors from \"../constants/Colors\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class Card extends React.Component {\n  render() {\n    return (\n      <Animatable.View\n        animation={this.props.animationType}\n        duration={500}\n        useNativeDriver={true}\n      >\n        <Touchable\n          {...(Platform.OS === \"web\"\n            ? {\n                // When scrolling the document body, the touchables might be triggered\n                // see  https://github.com/necolas/react-native-web/issues/1219\n                onClick: this.props.onPress\n              }\n            : {\n                onPress: this.props.onPress\n              })}\n          style={[\n            styles.inner,\n            Platform.OS === \"web\" ? { boxShadow: \"0px 1px 4px #888888\" } : {}\n          ]}\n        >\n          <View {...this.props}>{this.props.children}</View>\n        </Touchable>\n      </Animatable.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  inner: {\n    backgroundColor: Colors.white,\n    marginVertical: 8,\n    elevation: 1\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nexport default function MultiColorView(props) {\n  return (\n    <View style={styles.palette}>\n      {props.colors &&\n        props.colors.map((item, index) => (\n          <View\n            style={[styles.color, { backgroundColor: item.color }]}\n            key={`${item.color}-${index}`}\n          />\n        ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  palette: {\n    alignItems: \"stretch\",\n    flexDirection: \"row\",\n    height: 112\n  },\n  color: {\n    flex: 1\n  }\n});\n","import * as React from \"react\";\nimport { View } from \"react-native\";\n\nconst EmptyView = () => <View style={{ height: 100 }}></View>;\n\nexport default EmptyView;\n","import { NativeModules, Platform, ToastAndroid } from \"react-native\";\nimport InAppBilling from \"react-native-billing\";\n\nconst logEvent = (eventName, value) => {\n  if (eventName.length > 40) {\n    throw \"eventName length should be smaller then equal to 40\";\n  }\n  if (Platform.OS === \"android\") {\n    NativeModules.CromaModule.logEvent(\n      eventName,\n      isObject(value) ? JSON.stringify(value) : `${value}`\n    );\n  }\n};\n\nfunction isObject(value) {\n  return value && typeof value === \"object\" && value.constructor === Object;\n}\n\nconst purchase = async function(setPurchase, purchaseType = \"croma_pro\") {\n  try {\n    await InAppBilling.open();\n    const details = await InAppBilling.purchase(purchaseType);\n    ToastAndroid.show(\"Congrats, You are now a pro user!\", ToastAndroid.LONG);\n    setPurchase(details);\n    logEvent(\"purchase_successful\");\n    return true;\n  } catch (err) {\n    ToastAndroid.show(`Purchase unsucceessful ${err}`, ToastAndroid.LONG);\n    logEvent(\"purchase_failed\");\n    return false;\n  } finally {\n    await InAppBilling.close();\n  }\n};\n\nexport { logEvent, purchase };\n","import React, { useEffect, useState } from \"react\";\nimport Color from \"pigment/full\";\nimport {\n  ActivityIndicator,\n  Dimensions,\n  Linking,\n  NativeModules,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  ToastAndroid,\n  View\n} from \"react-native\";\nimport { PaletteCard } from \"../components/PaletteCard\";\nimport { DialogContainer, UndoDialog } from \"../components/CommonDialogs\";\nimport { CromaContext } from \"../store/store\";\nimport Colors from \"../constants/Colors\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Permissions from \"expo-permissions\";\nimport ColorPicker from \"../libs/ColorPicker\";\nimport Jimp from \"jimp\";\nimport { useHeaderHeight } from \"@react-navigation/stack\";\nimport EmptyView from \"../components/EmptyView\";\nimport ActionButton from \"react-native-action-button\";\nimport { Entypo, Ionicons } from \"@expo/vector-icons\";\nimport ShareMenu from \"../libs/ShareMenu\";\nimport { logEvent, purchase } from \"../libs/Helpers\";\n\nconst HomeScreen = function({ navigation, route }) {\n  const { height } = Dimensions.get(\"window\");\n  const {\n    isLoading,\n    allPalettes,\n    deletedPalettes,\n    undoDeletionByName,\n    isPro,\n    setPurchase,\n    setColorList,\n    setColorPickerCallback,\n    setSuggestedName,\n    setDetailedColor,\n    clearPalette\n  } = React.useContext(CromaContext);\n  const [pickImgloading, setPickImgLoading] = useState(false);\n  const pickImageResult = async base64 => {\n    return await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: base64\n    });\n  };\n  const pickImage = async () => {\n    let result = await pickImageResult(true);\n    if (result.base64 !== undefined) {\n      return await Jimp.read(new Buffer(result.base64, \"base64\"));\n    } else {\n      return await Jimp.read(result.uri);\n    }\n  };\n  const getPermissionAsync = async () => {\n    if (Platform?.OS === \"ios\") {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== \"granted\") {\n        alert(\"Sorry, we need camera roll permissions to make this work!\");\n      }\n    }\n  };\n  const purchasePro = () => {\n    purchase(setPurchase);\n  };\n\n  useEffect(() => {\n    getPermissionAsync();\n    if (Platform?.OS === \"android\") {\n      // Deep linking code\n      // https://medium.com/react-native-training/deep-linking-your-react-native-app-d87c39a1ad5e\n      Linking.getInitialURL().then(url => {\n        if (url) {\n          logEvent(\"deep_linking_open_link\");\n          const result = {};\n          url\n            .split(\"?\")[1]\n            .split(\"&\")\n            .forEach(function(part) {\n              var item = part.split(\"=\");\n              result[item[0]] = decodeURIComponent(item[1]);\n            });\n          clearPalette();\n          setColorList([...new Set(JSON.parse(result[\"colors\"]) || [])]);\n          setSuggestedName(result[\"name\"]);\n          navigation.navigate(\"SavePalette\");\n        }\n      });\n\n      ShareMenu.getSharedText(text => {\n        if (text && typeof text === \"string\") {\n          const colors = Color.parse(text);\n          logEvent(\"get_shared_text\", { length: colors.length });\n          for (var i = 0, l = colors.length; i < l; i++) {\n            colors[i] = { color: colors[i].tohex().toLowerCase() };\n          }\n          clearPalette();\n          setColorList(colors);\n          navigation.navigate(\"SavePalette\");\n        }\n      });\n    }\n  }, []);\n\n  if (isLoading) {\n    return <ActivityIndicator />;\n  } else {\n    logEvent(\"home_screen\", {\n      length: Object.keys(allPalettes).length\n    });\n    return (\n      <>\n        <View\n          style={[\n            styles.container,\n            { minHeight: height - useHeaderHeight() - 16 }\n          ]}\n        >\n          {pickImgloading ? <ActivityIndicator /> : <View />}\n          <ScrollView showsVerticalScrollIndicator={false}>\n            {Object.keys(allPalettes).map(name => {\n              return (\n                <PaletteCard\n                  key={name}\n                  colors={allPalettes[name].colors.slice(\n                    0,\n                    isPro ? allPalettes[name].colors.length : 4\n                  )}\n                  name={name}\n                  navigation={navigation}\n                  route={route}\n                />\n              );\n            })}\n            <EmptyView />\n          </ScrollView>\n        </View>\n\n        <DialogContainer>\n          {Object.keys(deletedPalettes).map(name => {\n            return (\n              <UndoDialog\n                key={name}\n                name={name}\n                undoDeletionByName={undoDeletionByName}\n              />\n            );\n          })}\n        </DialogContainer>\n        {/*Setting box shadow to false because of Issue on the web: https://github.com/mastermoo/react-native-action-button/issues/337 */}\n        <ActionButton\n          bgColor=\"rgba(68, 68, 68, 0.6)\"\n          hideShadow={Platform.OS === \"web\" ? true : false}\n          buttonColor={Colors.fabPrimary}\n          offsetY={60}\n          spacing={15}\n          key=\"action-button-home\"\n          fixNativeFeedbackRadius={true}\n          style={styles.actionButton}\n        >\n          {Platform.OS === \"android\" && (\n            <ActionButton.Item\n              buttonColor=\"#60f0af\"\n              title=\"Pick colors from camera\"\n              onPress={async () => {\n                try {\n                  const pickedColors = await NativeModules.CromaModule.navigateToColorPicker();\n                  logEvent(\"pick_colors_from_camera\", pickedColors.length);\n                  console.log(\"Picked colors: \", pickedColors);\n                  clearPalette();\n                  setColorList(JSON.parse(pickedColors)?.colors);\n                  navigation.navigate(\"ColorList\");\n                } catch (error) {\n                  ToastAndroid.show(\n                    \"Error while picking color from camera - \" + error\n                  );\n                }\n              }}\n            >\n              <Ionicons name=\"md-camera\" style={styles.actionButtonIcon} />\n            </ActionButton.Item>\n          )}\n          <ActionButton.Item\n            buttonColor=\"#9b59b6\"\n            title=\"Get palette from image\"\n            onPress={async () => {\n              try {\n                setPickImgLoading(true);\n                if (Platform.OS === \"android\") {\n                  const result = await pickImageResult();\n                  console.log(\"Result: \", result);\n                  if (!result.cancelled) {\n                    const pickedColors = await NativeModules.CromaModule.pickTopColorsFromImage(\n                      result.uri\n                    );\n                    logEvent(\"get_palette_from_image\");\n                    clearPalette();\n                    setColorList(JSON.parse(pickedColors)?.colors);\n                    navigation.navigate(\"ColorList\");\n                  }\n                } else {\n                  const image = await pickImage();\n\n                  clearPalette();\n                  setColorList(ColorPicker.getProminentColors(image));\n                  navigation.navigate(\"ColorList\");\n                }\n              } catch (error) {\n                if (Platform.OS === \"android\") {\n                  ToastAndroid.show(\n                    \"Error while extracting colors - \" + error,\n                    ToastAndroid.LONG\n                  );\n                }\n              } finally {\n                setPickImgLoading(false);\n              }\n            }}\n          >\n            <Ionicons name=\"md-image\" style={styles.actionButtonIcon} />\n          </ActionButton.Item>\n          <ActionButton.Item\n            buttonColor=\"#3498db\"\n            title=\"Get palette from color\"\n            onPress={() => {\n              logEvent(\"get_palette_from_color\");\n              clearPalette();\n              setColorPickerCallback(({ color }) => {\n                clearPalette();\n                setDetailedColor(color);\n                navigation.navigate(\"Palettes\");\n              });\n              navigation.navigate(\"ColorPicker\");\n            }}\n          >\n            <Ionicons name=\"md-color-palette\" style={styles.actionButtonIcon} />\n          </ActionButton.Item>\n          {Platform.OS === \"web\" && (\n            <ActionButton.Item\n              buttonColor=\"#1abc9c\"\n              title=\"Create new palette\"\n              onPress={() => {\n                clearPalette();\n                navigation.navigate(\"AddPaletteManually\");\n              }}\n            >\n              <Ionicons\n                name=\"md-color-filter\"\n                style={styles.actionButtonIcon}\n              />\n            </ActionButton.Item>\n          )}\n          {Platform.OS === \"web\" && (\n            <ActionButton.Item\n              buttonColor={Colors.primary}\n              title=\"Get croma on playstore\"\n              onPress={() =>\n                Linking.openURL(\n                  \"https://play.google.com/store/apps/details?id=app.croma\"\n                )\n              }\n            >\n              <Entypo name=\"google-play\" style={styles.actionButtonIcon} />\n            </ActionButton.Item>\n          )}\n          {Platform.OS === \"android\" && !isPro && (\n            <ActionButton.Item\n              buttonColor={Colors.primary}\n              title=\"Unlock pro\"\n              onPress={purchasePro}\n            >\n              <Ionicons name=\"md-unlock\" style={styles.actionButtonIcon} />\n            </ActionButton.Item>\n          )}\n        </ActionButton>\n      </>\n    );\n  }\n};\n\nexport default HomeScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    margin: 8,\n    justifyContent: \"center\"\n  },\n  actionButtonIcon: {\n    fontSize: 20,\n    height: 22,\n    color: \"white\"\n  },\n  actionButton:\n    Platform.OS === \"web\"\n      ? {\n          position: \"fixed\",\n          transform: \"scale(1) rotate(0deg) !important\",\n          right: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0),\n          left: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0)\n        }\n      : {},\n  icon: { fontSize: 24, height: 24, color: \"white\" }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text, Platform, Clipboard } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport { Share } from \"react-native\";\n\nimport MultiColorView from \"./MultiColorView\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { CromaContext } from \"../store/store\";\nimport { logEvent } from \"../libs/Helpers\";\n\nexport const PaletteCard = props => {\n  const [shared, setShared] = React.useState(false);\n  const [animationType, setAnimationType] = React.useState(\"fadeInLeftBig\");\n\n  const { deletePaletteByName, setCurrentPalette } = React.useContext(\n    CromaContext\n  );\n\n  const onShare = async () => {\n    try {\n      logEvent(\"home_screen_palette_card_share\", props.colors.length + \"\");\n      const result = await Share.share({\n        message: `Croma - Palette Manager\\nColors:\\n${props.colors\n          .map(colorObj => colorObj.color)\n          .join(\"\\n\")}\n\n          https://croma.app/Main/SavePalette?name=${encodeURIComponent(\n            props.name\n          )}&colors=${encodeURIComponent(JSON.stringify(props.colors))}`\n      });\n\n      if (result.action === Share.sharedAction) {\n        if (result.activityType) {\n          // shared with activity type of result.activityType\n        } else {\n          // shared\n        }\n      } else if (result.action === Share.dismissedAction) {\n        // dismissed\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const onShareWeb = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    Clipboard.setString(\n      `Croma - Palette Manager\\nColors:\\n${props.colors\n        .map(colorObj => colorObj.color)\n        .join(\"\\n\")}\n\n      https://croma.app/Main/SavePalette?name=${encodeURIComponent(\n        props.name\n      )}&colors=${encodeURIComponent(JSON.stringify(props.colors))}`\n    );\n    setShared(true);\n    setTimeout(() => {\n      setShared(false);\n    }, 3000);\n  };\n\n  const onExportWeb = event => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    //create canvas\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = props.colors.length * 100;\n    canvas.height = 100;\n\n    //fill canvas with colors\n    var context = canvas.getContext(\"2d\");\n    for (let i = 0; i < props.colors.length; i++) {\n      context.fillStyle = props.colors[i].color;\n      context.fillRect(i * 100, 0, 100, 100);\n    }\n\n    //export to png\n    const link = document.createElement(\"a\");\n    link.download = props.name + \".png\";\n    link.href = canvas.toDataURL();\n    link.click();\n    link.delete;\n  };\n\n  return (\n    <Card\n      {...props}\n      onPress={() => {\n        setCurrentPalette({ name: props.name });\n        props.navigation.navigate(\"Palette\");\n      }}\n      animationType={animationType}\n    >\n      <MultiColorView {...props}></MultiColorView>\n      <View style={styles.bottom}>\n        <Text style={styles.label}>{props.name}</Text>\n        <View style={styles.actionButtonsView}>\n          {shared && (\n            <Text\n              style={{\n                position: \"absolute\",\n                backgroundColor: \"rgb(64, 64, 58)\",\n                top: \"-35px\",\n                right: \"-10px\",\n                width: \"148px\",\n                color: \"#fff\",\n                padding: \"5px \",\n                textAlign: \"center\",\n                borderRadius: \"6px\"\n              }}\n            >\n              Copied to Clipboard!\n            </Text>\n          )}\n\n          <Touchable onClick={onExportWeb} style={styles.actionButton}>\n            <FontAwesome size={20} name=\"download\" />\n          </Touchable>\n\n          {/*SHARE*/}\n          {Platform.OS === \"web\" ? (\n            <Touchable onClick={onShareWeb} style={styles.actionButton}>\n              <FontAwesome size={20} name=\"share\" />\n            </Touchable>\n          ) : (\n            <Touchable onPress={onShare} style={styles.actionButton}>\n              <FontAwesome size={20} name=\"share\" />\n            </Touchable>\n          )}\n          <Touchable\n            {...{\n              [Platform.OS === \"web\" ? \"onClick\" : \"onPress\"]: event => {\n                event.preventDefault();\n                event.stopPropagation();\n                setAnimationType(\"fadeOutRightBig\");\n                setTimeout(() => {\n                  deletePaletteByName(props.name);\n                }, 500);\n              }\n            }}\n            style={styles.actionButton}\n          >\n            <FontAwesome size={20} name=\"trash\" />\n          </Touchable>\n        </View>\n      </View>\n    </Card>\n  );\n};\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    padding: 8\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import kmeans from \"ml-kmeans\";\nimport Jimp from \"jimp\";\nimport Color from \"pigment/full\";\nexport default class ColorPicker {\n  static getProminentColors(image) {\n    /*\n    Jimp.RESIZE_NEAREST_NEIGHBOR;\n    Jimp.RESIZE_BILINEAR;\n    Jimp.RESIZE_BICUBIC;\n    Jimp.RESIZE_HERMITE;\n    Jimp.RESIZE_BEZIER;\n    These does not work with first params.\n    */\n    image.resize(Jimp.AUTO, 100);\n    let data = ColorPicker._prepareDataForKmeans(image);\n    let time = Date.now();\n    let ans = kmeans(data, 24, { initialization: \"random\", maxIterations: 20 });\n    ans.centroids = ans.centroids.sort((c1, c2) => c2.size - c1.size);\n    let kmeansColors = ans.centroids.map(centroid => {\n      return new Color(this._labToHex(centroid.centroid));\n    });\n    return this._getFinalColors(kmeansColors).map(c => {\n      return { color: c.tohex() };\n    });\n  }\n  // original implementation in java: https://github.com/kamalkishor1991/croma/blob/master/src/main/java/org/numixproject/colorextractor/image/KMeansColorPicker.java\n  static _getFinalColors(kmeansColors) {\n    kmeansColors.sort(\n      (c1, c2) => this._toArray(c1.tohsv())[0] < this._toArray(c2.tohsv())[0]\n    );\n    let filteredColors = [];\n    for (let i = 0; i < kmeansColors.length; i += 4) {\n      let colorList = [];\n      for (let j = 0; j < 4; j++) {\n        colorList.push(kmeansColors[i + j]);\n      }\n      colorList.sort(\n        (c1, c2) => this._toArray(c1.tohsv())[1] < this._toArray(c2.tohsv())[1]\n      );\n      filteredColors.push(colorList[colorList.length - 1]);\n      filteredColors.push(colorList[colorList.length - 2]);\n    }\n    let finalColors = [];\n    for (let i = 0; i < filteredColors.length; i += 2) {\n      if (\n        this._toArray(filteredColors[i].tohsv())[2] >\n        this._toArray(filteredColors[i + 1].tohsv())[2]\n      ) {\n        finalColors.push(filteredColors[i]);\n      } else {\n        finalColors.push(filteredColors[i + 1]);\n      }\n    }\n    return finalColors;\n  }\n\n  static _labToHex(lab) {\n    let color = new Color(\n      \"lab(\" + lab[0] + \", \" + lab[1] + \", \" + lab[2] + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _prepareDataForKmeans(image) {\n    let data = [];\n\n    for (let i = 0; i < image.bitmap.width; i++) {\n      for (let j = 0; j < image.bitmap.height; j++) {\n        let intColor = image.getPixelColor(i, j);\n        let hex = this._toHexColor(intColor);\n        let color = new Color(hex);\n        let xyz = color.tolab();\n        // format: \"xyz(19.78527130484015, 8.600439447528947, 95.19796416837329)\" to double array of xyz\n        xyz = xyz\n          .substr(4, xyz.length - 5)\n          .split(\", \")\n          .map(v => parseFloat(v));\n        data.push(xyz);\n      }\n    }\n\n    return data;\n  }\n\n  static _toHexColor(intColor) {\n    let rgba = Jimp.intToRGBA(intColor); // TODO: Need to optimize this once everything else starts working.\n    let color = new Color(\n      \"rgb(\" + rgba.r + \", \" + rgba.g + \", \" + rgba.b + \")\"\n    );\n    return color.tohex();\n  }\n\n  static _toArray(color) {\n    let index = color.indexOf(\"(\");\n    color = color.substr(index + 1, color.length - index);\n    return color.split(\", \").map(c => parseFloat(c));\n  }\n}\n","export default () => {};\n","import React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Clipboard,\n  Platform,\n  ToastAndroid\n} from \"react-native\";\nimport { FontAwesome } from \"@expo/vector-icons\";\n\nimport Touchable from \"react-native-platform-touchable\";\n\nimport Color from \"pigment/full\";\n\nexport const ColorDetail = ({ color }) => {\n  const [copyiedIndex, setCopyiedIntex] = useState(-1);\n  const styles = StyleSheet.create({\n    backgroundColor: {\n      backgroundColor: color,\n      height: 112,\n      alignSelf: \"stretch\"\n    },\n    info: {\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      padding: 10\n    },\n    colorNameText: {\n      fontSize: 16,\n      fontWeight: \"500\"\n    }\n  });\n  const fullColor = new Color(color);\n  let items = [\n    { key: \"HEX\", value: fullColor.tohex() },\n    { key: \"RGB\", value: fullColor.torgb() },\n    { key: \"HSL\", value: fullColor.tohsl() },\n    { key: \"HSV\", value: fullColor.tohsv() },\n    { key: \"HWB\", value: fullColor.tohwb() },\n    { key: \"CMYK\", value: fullColor.tocmyk() },\n    { key: \"CIELAB\", value: fullColor.tolab() },\n    { key: \"Luminance\", value: (fullColor.luminance() * 100).toFixed(2) + \"%\" },\n    { key: \"Darkness\", value: (fullColor.darkness() * 100).toFixed(2) + \"%\" }\n  ];\n\n  const debounce = (func, delay) => {\n    let debounceTimer;\n    return function() {\n      const context = this;\n      const args = arguments;\n      clearTimeout(debounceTimer);\n      debounceTimer = setTimeout(() => func.apply(context, args), delay);\n    };\n  };\n  const debouncedSetCopiedIndex = debounce(() => setCopyiedIntex(-1), 2000);\n\n  let writeToClipboard = function(value, index) {\n    if (Platform.OS === \"android\") {\n      ToastAndroid.show(\"Text copied to clipboard!\", ToastAndroid.LONG);\n    }\n    Clipboard.setString(value);\n    setCopyiedIntex(index);\n    debouncedSetCopiedIndex();\n  };\n  return (\n    <View\n      style={{\n        flex: 1,\n        flexDirection: \"column\",\n        padding: 8,\n        backgroundColor: \"#fff\"\n      }}\n    >\n      <View style={[styles.backgroundColor]}></View>\n      {/* <Text {...props} style={[props.style, { fontFamily: 'space-mono' }]} >{props.color}</Text> */}\n      <View style={{ marginTop: 20 }}>\n        {items.map((item, index) => (\n          <Touchable\n            key={item.key}\n            onPress={() => writeToClipboard(item.value, index)}\n          >\n            <View style={styles.info}>\n              <Text style={styles.colorNameText}>{item.key} : </Text>\n\n              <Text>{item.value}</Text>\n              {index === copyiedIndex && Platform.OS === \"web\" && (\n                <Text\n                  style={{\n                    position: \"absolute\",\n                    backgroundColor: \"rgb(64, 64, 58)\",\n                    top: \"-25px\",\n                    right: \"-10px\",\n                    color: \"#fff\",\n                    padding: \"5px\",\n                    textAlign: \"center\",\n                    borderRadius: \"6px\"\n                  }}\n                >\n                  Copied!\n                </Text>\n              )}\n              <FontAwesome name=\"copy\" />\n            </View>\n          </Touchable>\n        ))}\n      </View>\n    </View>\n  );\n};\n","import React, { useState } from \"react\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { StyleSheet, Text, ActivityIndicator } from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\n\nconst LOADER_DEFAULT = 0;\nconst LOADER_LOADING = 1;\nconst LOADER_DONE = 2;\n\nconst CromaButton = function(props) {\n  const { style, onPress, onPressWithLoader, children, textStyle } = props;\n  const [loaderState, setLoaderState] = useState(LOADER_DEFAULT);\n  const _onPress = async () => {\n    if (onPressWithLoader) {\n      try {\n        setLoaderState(LOADER_LOADING);\n        await onPressWithLoader();\n        setLoaderState(LOADER_DONE);\n      } catch (error) {\n        setLoaderState(LOADER_DEFAULT);\n        console.error(error);\n      }\n    } else {\n      onPress();\n    }\n  };\n  return (\n    <Touchable style={[styles.button, style]} onPress={_onPress}>\n      {loaderState === LOADER_LOADING ? (\n        <ActivityIndicator />\n      ) : (\n        <>\n          <Text style={[styles.text, textStyle]}> {children} </Text>\n          {loaderState === LOADER_DONE && (\n            <MaterialIcons name=\"check-circle\" size={24} color=\"green\" />\n          )}\n        </>\n      )}\n    </Touchable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 50,\n    marginTop: 10,\n    marginBottom: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  text: {\n    textTransform: \"uppercase\",\n    fontWeight: \"700\",\n    color: \"#484a4c\"\n  }\n});\n\nexport default CromaButton;\n","import React, { useLayoutEffect } from \"react\";\nimport { ScrollView, StyleSheet } from \"react-native\";\nimport { ColorDetail } from \"../components/ColorDetails\";\nimport CromaButton from \"../components/CromaButton\";\nimport { logEvent } from \"../libs/Helpers\";\nimport { CromaContext } from \"../store/store\";\n\nexport default function ColorDetailScreen({ navigation }) {\n  const { detailedColor, setDetailedColor } = React.useContext(CromaContext);\n\n  useLayoutEffect(() => {\n    navigation.setOptions({ title: detailedColor });\n  }, [detailedColor]);\n\n  logEvent(\"color_details_screen\");\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      <ColorDetail color={detailedColor}>{detailedColor}</ColorDetail>\n      <CromaButton\n        onPress={() => {\n          setDetailedColor(detailedColor);\n          navigation.navigate(\"Palettes\");\n        }}\n      >\n        See color palettes\n      </CromaButton>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useState, useContext } from \"react\";\nimport { ScrollView, View, StyleSheet } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\nimport { CromaColorPicker as ColorPicker } from \"croma-color-picker\";\nimport { logEvent } from \"../libs/Helpers\";\nimport { CromaContext } from \"../store/store\";\nexport default function ColorPickerScreen({ navigation }) {\n  const [color, setColor] = useState(\"#db0a5b\");\n  const { colorPickerCallback } = useContext(CromaContext);\n\n  logEvent(\"color_picker_screen\");\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <View style={styles.container}>\n        <ColorPicker\n          onChangeColor={color => {\n            setColor(color);\n          }}\n          style={[{ height: 350 }]}\n        />\n        <CromaButton\n          onPress={() => {\n            navigation.goBack();\n            colorPickerCallback({ color });\n          }}\n        >\n          Done\n        </CromaButton>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"column\",\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport MultiColorView from \"./MultiColorView\";\n\nexport class PalettePreviewCard extends React.Component {\n  render() {\n    return (\n      <Card {...this.props}>\n        <View>\n          <MultiColorView {...this.props}></MultiColorView>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>{this.props.name}</Text>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 48\n  },\n  label: {\n    flex: 1,\n    fontWeight: \"500\",\n    marginHorizontal: 16,\n    color: Colors.darkGrey\n  }\n});\n","import React, { useContext, useLayoutEffect } from \"react\";\nimport { ScrollView, StyleSheet } from \"react-native\";\nimport Color from \"pigment/full\";\nimport { PalettePreviewCard } from \"../components/PalettePreviewCard\";\nimport { logEvent } from \"../libs/Helpers\";\nimport { CromaContext } from \"../store/store\";\nexport default function PalettesScreen({ navigation }) {\n  const { detailedColor, setColorList } = useContext(CromaContext);\n\n  useLayoutEffect(() => {\n    navigation.setOptions({ title: detailedColor });\n  }, [detailedColor]);\n\n  // Convert camelCase to sentence\n  const parseCamelCase = text => {\n    if (typeof text !== \"string\") {\n      return \"\";\n    }\n    return text\n      .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n      .replace(/\\b([A-Z]+)([A-Z])([a-z])/, \"$1 $2$3\")\n      .replace(/^./, str => str.toUpperCase());\n  };\n  const fullColor = new Color(detailedColor);\n  let items = [];\n  for (const i in fullColor) {\n    if (/.*scheme$/i.test(i) && typeof fullColor[i] === \"function\") {\n      let colors = [];\n      const paletteColors = fullColor[i]();\n      paletteColors.forEach(c => colors.push({ color: c.tohex() }));\n      items.push(\n        <PalettePreviewCard\n          onPress={() => {\n            setColorList(colors);\n            navigation.navigate(\"ColorList\");\n          }}\n          key={i.toString()}\n          colors={colors}\n          name={parseCamelCase(i.toString())}\n        />\n      );\n    }\n  }\n  logEvent(\"palettes_screen\");\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      {items}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useState, useEffect } from \"react\";\nimport { Text, View, StyleSheet, TextInput, Platform } from \"react-native\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { PalettePreviewCard } from \"../components/PalettePreviewCard\";\nimport Colors from \"../constants/Colors\";\nimport CromaButton from \"../components/CromaButton\";\nimport { CromaContext } from \"../store/store\";\nimport { TextDialog } from \"./CommonDialogs\";\n\nexport const SavePalette = ({ navigation, title, navigationPath }) => {\n  const {\n    addPalette,\n    allPalettes,\n    isPro,\n    colorList,\n    setColorList,\n    setCurrentPalette,\n    suggestedName,\n    setSuggestedName\n  } = React.useContext(CromaContext);\n\n  const [finalColors, setFinalColors] = useState([]);\n  const [isPaletteNameExist, setIsPaletteNameExist] = React.useState(false);\n  const [isUnlockProNotification, setIsUnlockProNotifiction] = useState(false);\n\n  useEffect(() => {\n    let colorsFromParams = colorList;\n    if (typeof colorsFromParams === \"string\") {\n      colorsFromParams = JSON.parse(colorsFromParams);\n    }\n    const colors = [...new Set(colorsFromParams || [])];\n    setIsUnlockProNotifiction(!isPro && colors.length > 4);\n    setFinalColors(colors);\n    setTimeout(() => {\n      setIsUnlockProNotifiction(false);\n    }, 5000);\n  }, [colorList]);\n\n  const [paletteName, setPaletteName] = useState(suggestedName ?? \"\");\n  useEffect(() => {\n    setPaletteName(suggestedName ?? \"\");\n  }, [suggestedName]);\n\n  return (\n    <ScrollView style={{ margin: 8 }} showsVerticalScrollIndicator={false}>\n      <PalettePreviewCard\n        colors={finalColors.slice(0, isPro ? finalColors.length : 4)}\n        name={paletteName}\n      />\n      <View style={styles.card}>\n        <Text style={[styles.label, styles.title]}>{title}</Text>\n        <TextInput\n          style={styles.input}\n          value={paletteName}\n          placeholder=\"Enter a name for the palette\"\n          onChangeText={name => setPaletteName(name)}\n        />\n      </View>\n      <CromaButton\n        onPress={async () => {\n          if (allPalettes[paletteName]) {\n            setIsPaletteNameExist(true);\n            setTimeout(() => {\n              setIsPaletteNameExist(false);\n            }, 3000);\n            return null;\n          }\n          const palette = { name: paletteName, colors: finalColors };\n          addPalette(palette);\n          setSuggestedName(\"\");\n          setPaletteName(undefined);\n          setColorList([]);\n\n          navigationPath === \"Palette\"\n            ? setCurrentPalette(palette)\n            : setCurrentPalette({});\n          Platform?.OS === \"android\"\n            ? navigation.navigate(navigationPath)\n            : navigation.replace(navigationPath);\n        }}\n      >\n        Save palette\n      </CromaButton>\n      {isPaletteNameExist && (\n        <TextDialog text={\"A palette with same name already exists.\"} />\n      )}\n      {isUnlockProNotification && (\n        <TextDialog text={\"Unlock pro to save more than 4 colors!\"} />\n      )}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  card: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    shadowColor: \"rgba(0,0,0, .4)\",\n    shadowOffset: { height: 1, width: 1 },\n    shadowOpacity: 1,\n    shadowRadius: 1,\n    backgroundColor: \"#fff\",\n    elevation: 2,\n    height: 92,\n    marginVertical: 10,\n    padding: 10\n  },\n  title: {\n    fontWeight: \"700\"\n  },\n  input: {\n    flex: 1,\n    borderBottomColor: \"black\",\n    borderBottomWidth: 1\n  },\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  label: {\n    flex: 1,\n    color: Colors.darkGrey\n  }\n});\n","import * as React from \"react\";\nimport {\n  Platform,\n  StyleSheet,\n  Text,\n  ToastAndroid,\n  Clipboard\n} from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport class SingleColorView extends React.Component {\n  render() {\n    return (\n      <Touchable\n        onPress={() => {\n          if (Platform?.OS === \"android\") {\n            ToastAndroid.show(\n              this.props.color.color + \" copied to clipboard!\",\n              ToastAndroid.LONG\n            );\n          }\n          Clipboard.setString(this.props.color.color);\n        }}\n        style={[styles.container, { backgroundColor: this.props.color.color }]}\n      >\n        <Text style={styles.colorText}>\n          {this.props.color.color +\n            (this.props.color.name ? \" (\" + this.props.color.name + \")\" : \"\")}\n        </Text>\n      </Touchable>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    height: 56,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  colorText: {\n    fontWeight: \"700\",\n    backgroundColor: \"rgba(255, 255, 255, .3)\",\n    paddingLeft: 8,\n    paddingRight: 8\n  }\n});\n","import React, { useLayoutEffect } from \"react\";\nimport { SingleColorView } from \"../components/SingleColorView\";\nimport { ScrollView, StyleSheet, View, Text, Platform } from \"react-native\";\nimport CromaButton from \"../components/CromaButton\";\nimport { logEvent } from \"../libs/Helpers\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { CromaContext } from \"../store/store\";\n\nexport default function ColorListScreen({ navigation }) {\n  const { colorList } = React.useContext(CromaContext);\n  const colors = uniqueColors(colorList);\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerTitle:\n        Platform.OS === \"android\"\n          ? () => <CustomHeader navigation={navigation} />\n          : \"Colors\"\n    });\n  }, []);\n\n  logEvent(\"color_list_screen\");\n  return (\n    <ScrollView style={styles.listview} showsVerticalScrollIndicator={false}>\n      {colors.map(color => (\n        <SingleColorView key={color.color} color={color} />\n      ))}\n      {Platform.OS == \"web\" && (\n        <CromaButton\n          onPress={() => {\n            navigation.navigate(\"SavePalette\");\n          }}\n        >\n          SAVE AS NEW PALETTE\n        </CromaButton>\n      )}\n    </ScrollView>\n  );\n}\nfunction uniqueColors(colors) {\n  let set = new Set();\n  let uniqueColors = [];\n  colors.forEach(color => {\n    if (!set.has(color.color)) {\n      uniqueColors.push(color);\n    }\n    set.add(color.color);\n  });\n  return uniqueColors;\n}\n\nconst CustomHeader = ({ navigation }) => {\n  return (\n    <View\n      style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        width: \"95%\"\n      }}\n    >\n      <Text\n        style={{\n          color: \"#ffffff\",\n          fontSize: 18\n        }}\n      >\n        Colors\n      </Text>\n      <>\n        <Touchable onPress={() => navigation.navigate(\"SavePalette\")}>\n          <MaterialIcons name=\"done\" size={24} color=\"white\" />\n        </Touchable>\n      </>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  listview: {\n    margin: 8\n  }\n});\n","import * as React from \"react\";\nimport { StyleSheet, View, Text, Platform } from \"react-native\";\nimport Card from \"./Card\";\nimport Colors from \"../constants/Colors\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport default class SingleColorCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { animationType: \"fadeInLeftBig\" };\n  }\n  render() {\n    return (\n      <Card {...this.props} animationType={this.state.animationType}>\n        <View>\n          <View\n            style={{ backgroundColor: this.props.color.color, height: 100 }}\n          ></View>\n          <View style={styles.bottom}>\n            <Text style={styles.label}>\n              {this.props.color.color +\n                (this.props.color.name\n                  ? \" (\" + this.props.color.name + \")\"\n                  : \"\")}\n            </Text>\n            <View style={styles.actionButtonsView}>\n              <Touchable\n                {...{\n                  [Platform.OS === \"web\" ? \"onClick\" : \"onPress\"]: event => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.setState({ animationType: \"fadeOutRightBig\" });\n                    setTimeout(() => {\n                      this.props.colorDeleteFromPalette();\n                    }, 400);\n                  }\n                }}\n                style={styles.actionButton}\n              >\n                <FontAwesome size={20} name=\"trash\" />\n              </Touchable>\n            </View>\n          </View>\n        </View>\n      </Card>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  bottom: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 16,\n    height: 54\n  },\n  actionButtonsView: {\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  },\n  actionButton: {\n    paddingRight: 16\n  },\n  label: {\n    flex: 1,\n    marginHorizontal: 16,\n    fontWeight: \"500\",\n    color: Colors.darkGrey\n  }\n});\n","import React, { useContext, useEffect, useLayoutEffect, useState } from \"react\";\n\nimport SingleColorCard from \"../components/SingleColorCard\";\nimport {\n  Dimensions,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TextInput,\n  ToastAndroid,\n  View\n} from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { CromaContext } from \"../store/store\";\nimport ActionButton from \"react-native-action-button\";\nimport Colors from \"../constants/Colors\";\nimport { useHeaderHeight } from \"@react-navigation/stack\";\nimport EmptyView from \"../components/EmptyView\";\nimport { logEvent } from \"../libs/Helpers\";\nimport { DialogContainer, UndoDialog } from \"../components/CommonDialogs\";\nimport { Feather, MaterialIcons } from \"@expo/vector-icons\";\n\nexport default function PaletteScreen({ navigation }) {\n  const {\n    isPro,\n    allPalettes,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette,\n    setDetailedColor,\n    currentPalette,\n    setColorPickerCallback\n  } = useContext(CromaContext);\n\n  const paletteName = currentPalette?.name ?? \"\";\n\n  const { height } = Dimensions.get(\"window\");\n  const colors = allPalettes[paletteName]?.colors;\n  const deletedColors = allPalettes[paletteName]?.deletedColors\n    ? allPalettes[paletteName]?.deletedColors\n    : [];\n\n  const deleteColor = index => {\n    colorDeleteFromPalette(paletteName, index);\n  };\n  logEvent(\"palette_screen\");\n\n  useLayoutEffect(() => {\n    setNavigationOptions({ navigation, paletteName });\n  }, [navigation, paletteName]);\n\n  return (\n    <>\n      <View\n        style={\n          (styles.container, { minHeight: height - useHeaderHeight() - 16 })\n        }\n      >\n        <ScrollView\n          style={styles.listview}\n          showsVerticalScrollIndicator={false}\n        >\n          {colors\n            ?.slice(0, isPro ? colors.length : 4)\n            .map((colorObj, index) => {\n              return (\n                <SingleColorCard\n                  key={`${colorObj.color}-${index}`}\n                  onPress={() => {\n                    setDetailedColor(colorObj.color);\n                    navigation.navigate(\"ColorDetails\");\n                  }}\n                  color={colorObj}\n                  colorDeleteFromPalette={() => {\n                    deleteColor(index);\n                  }}\n                />\n              );\n            })}\n          <EmptyView />\n        </ScrollView>\n        <ActionButton\n          offsetY={60}\n          bgColor=\"rgba(68, 68, 68, 0.6)\"\n          hideShadow={Platform.OS === \"web\" ? true : false}\n          fixNativeFeedbackRadius={true}\n          buttonColor={Colors.fabPrimary}\n          onPress={() => {\n            logEvent(\"palette_screen_add_color\");\n            if (\n              Platform.OS === \"android\" &&\n              colors.length >= 4 &&\n              isPro === false\n            ) {\n              ToastAndroid.show(\n                \"Unlock pro to add more than 4 colors!\",\n                ToastAndroid.LONG\n              );\n              navigation.navigate(\"ProVersion\");\n            } else {\n              setColorPickerCallback(color => {\n                addColorToPalette(paletteName, color);\n              });\n              navigation.navigate(\"ColorPicker\");\n            }\n          }}\n          style={styles.actionButton}\n        />\n      </View>\n      <DialogContainer>\n        {deletedColors.map((colorObj, index) => (\n          <UndoDialog\n            key={`UndoDialog-${colorObj.color}-${index}`}\n            name={colorObj.color}\n            undoDeletionByName={colorName => {\n              undoColorDeletion(paletteName, colorName);\n            }}\n          />\n        ))}\n      </DialogContainer>\n    </>\n  );\n}\n\nconst CustomHeader = ({ currentPaletteName }) => {\n  const [paletteName, setPaletteName] = useState(currentPaletteName);\n  const { renamePalette, currentPalette, setCurrentPalette } = useContext(\n    CromaContext\n  );\n  const [isEditingPaletteName, setIsEditingPaletteName] = useState(false);\n\n  useEffect(() => {\n    setPaletteName(currentPaletteName);\n  }, [currentPaletteName]);\n\n  const onDone = () => {\n    renamePalette(currentPaletteName, paletteName);\n    //setting new name in query params\n    setCurrentPalette({ ...currentPalette, name: paletteName });\n    setIsEditingPaletteName(false);\n  };\n\n  const onEdit = () => {\n    logEvent(\"edit_palette_name\");\n    setIsEditingPaletteName(true);\n  };\n  return (\n    <View\n      style={{\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        width: \"95%\"\n      }}\n    >\n      {isEditingPaletteName ? (\n        <>\n          <TextInput\n            style={styles.input}\n            value={paletteName}\n            autoFocus={true}\n            onChangeText={name => {\n              setPaletteName(name);\n            }}\n          />\n          <Touchable onPress={onDone} style={{ marginTop: 12 }}>\n            <MaterialIcons name=\"done\" size={24} color=\"white\" />\n          </Touchable>\n        </>\n      ) : (\n        <>\n          <Text\n            style={{\n              color: \"#ffffff\",\n              fontSize: 18\n            }}\n          >\n            {paletteName}\n          </Text>\n          <Touchable onPress={onEdit}>\n            <Feather name=\"edit\" size={24} color=\"white\" />\n          </Touchable>\n        </>\n      )}\n    </View>\n  );\n};\n\nconst setNavigationOptions = ({ navigation, paletteName }) => {\n  navigation.setOptions({\n    headerTitle: () => <CustomHeader currentPaletteName={paletteName} />\n  });\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  listview: {\n    margin: 8\n  },\n  actionButton:\n    Platform.OS === \"web\"\n      ? {\n          position: \"fixed\",\n          transform: \"scale(1) rotate(0deg) !important\",\n          right: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0),\n          left: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0)\n        }\n      : {},\n  input: {\n    color: \"#ffffff\",\n    fontSize: 18\n  }\n});\n","import React from \"react\";\nimport { ScrollView, StyleSheet, Text } from \"react-native\";\nimport { View } from \"react-native-animatable\";\nimport CromaButton from \"../components/CromaButton\";\nimport { CromaContext } from \"../store/store\";\nimport { purchase, logEvent } from \"../libs/Helpers\";\nimport { material } from \"react-native-typography\";\n\nexport default function ProScreen() {\n  const { isPro, setPurchase } = React.useContext(CromaContext);\n  const purchaseDevelopment = () => {\n    purchase(setPurchase, \"support_development\");\n  };\n  const purchasePro = async () => {\n    if (await purchase(setPurchase)) {\n      logEvent(\"pro_version_screen_pur_pro_success\");\n    } else {\n      logEvent(\"pro_version_screen_pur_pro_failed\");\n    }\n  };\n  logEvent(\"pro_version_screen\");\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      <View>\n        <Text style={styles.title}>PRO BENEFITS</Text>\n        <Text style={[styles.line]}>\n          1. Add more than 4 colors in a palette \n        </Text>\n        <Text style={[styles.line]}>\n          2. Export/sync colors to private github repository\n        </Text>\n        <CromaButton\n          style={{ backgroundColor: \"#ff5c59\" }}\n          textStyle={{ color: \"#fff\" }}\n          onPress={purchasePro}\n        >\n          {isPro ? \"You are a pro user! Enjoy the app\" : \"Unlock pro\"}\n        </CromaButton>\n        <Text style={styles.line}>\n          3. Support the development efferts to keep the app awesome and simple\n          without any ads and annoying notifications \n        </Text>\n        <CromaButton onPress={purchaseDevelopment}>\n          Buy me a coffee \n        </CromaButton>\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  },\n  title: {\n    paddingTop: 12,\n    paddingBottom: 12,\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  line: {\n    ...material.body1,\n    paddingBottom: 4,\n    fontSize: 15\n  }\n});\n","import React, { useLayoutEffect, useContext } from \"react\";\nimport { ScrollView, StyleSheet, Text } from \"react-native\";\n\nimport { logEvent } from \"../libs/Helpers\";\nimport { PalettePreviewCard } from \"../components/PalettePreviewCard\";\nimport { CromaContext } from \"../store/store\";\n\nexport default function CommonPalettesScreen({ navigation }) {\n  logEvent(\"common_palettes_screen\");\n  const { commonPalettes, setColorList, setSuggestedName } = useContext(\n    CromaContext\n  );\n  const { palettes, name } = commonPalettes;\n\n  useLayoutEffect(() => {\n    navigation.setOptions({ title: name });\n  }, [navigation]);\n\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      {palettes.map((palette, index) => (\n        <PalettePreviewCard\n          key={palette?.name ?? index}\n          onPress={() => {\n            setColorList(palette.colors);\n            setSuggestedName(name + \" - \" + palette.name);\n            navigation.navigate(\"ColorList\");\n          }}\n          colors={palette.colors}\n          name={palette.name}\n        />\n      ))}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  }\n});\n","import React, { useContext } from \"react\";\nimport { ScrollView, StyleSheet, Text, View } from \"react-native\";\nimport { logEvent } from \"../libs/Helpers\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { material } from \"react-native-typography\";\nimport Colors from \"../constants/Colors\";\nimport { CromaContext } from \"../store/store\";\nconst allPalettes = require(\"../constants/palettes/palettes\").default;\n\nexport default function PaletteLibraryScreen({ navigation }) {\n  logEvent(\"palette_library_screen\");\n\n  const { setCommonPalettes } = useContext(CromaContext);\n\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      {allPalettes.map((palettes, index) => {\n        return (\n          <Touchable\n            key={palettes?.name ?? index}\n            style={styles.row}\n            onPress={() => {\n              logEvent(\"hm_matrial_palettes\");\n              setCommonPalettes(palettes);\n              navigation.navigate(\"CommonPalettes\");\n            }}\n          >\n            <View>\n              <View>\n                <Text style={styles.title}>{palettes.name}</Text>\n              </View>\n              <View>\n                <Text style={styles.desc}>{palettes.desc}</Text>\n              </View>\n            </View>\n          </Touchable>\n        );\n      })}\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12\n  },\n  row: {\n    backgroundColor: Colors.white,\n    marginVertical: 8,\n    elevation: 1,\n    padding: 4\n  },\n  title: {\n    ...material.title\n  },\n  desc: {\n    ...material.body1\n  }\n});\n","import {\n  Linking,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View\n} from \"react-native\";\nimport React from \"react\";\nimport { material } from \"react-native-typography\";\nimport { MaterialCommunityIcons, MaterialIcons } from \"@expo/vector-icons\";\nimport { logEvent } from \"../libs/Helpers\";\n\nconst GITHUB_URL = \"https://github.com/croma-app/croma-react\";\nconst GITHUB_ISSUES_URL = \"https://github.com/croma-app/croma-react/issues/new\";\nconst CROMA_APP_URL = \"https://croma.app/\";\n\nconst AboutUsScreen = () => {\n  logEvent(\"about_us_screen\");\n  return (\n    <ScrollView style={styles.container} showsVerticalScrollIndicator={false}>\n      <View>\n        <Text style={styles.line}>\n          Croma is a simple color palette manager and color picker made for\n          designers, aiming to make it quick and fun to create and share color\n          palettes on the go.\n        </Text>\n      </View>\n      <View style={styles.linksMainView}>\n        <TouchableOpacity onPress={() => Linking.openURL(`${GITHUB_URL}`)}>\n          <View style={styles.linkView}>\n            <MaterialCommunityIcons name=\"github-circle\" style={styles.icon} />\n            <Text style={[styles.line, styles.subtitle]}>\n              Find us on Github !\n            </Text>\n            <Text style={[styles.line, styles.link]}>{GITHUB_URL}</Text>\n          </View>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => Linking.openURL(`${GITHUB_ISSUES_URL}`)}\n        >\n          <View style={styles.linkView}>\n            <MaterialIcons name=\"feedback\" style={styles.icon} />\n            <Text style={[styles.line, styles.subtitle]}>\n              Do you have a suggestion ?\n            </Text>\n            <Text style={[styles.line, styles.link]}>{GITHUB_ISSUES_URL}</Text>\n          </View>\n        </TouchableOpacity>\n        <TouchableOpacity onPress={() => Linking.openURL(`${CROMA_APP_URL}`)}>\n          <View style={styles.linkView}>\n            <MaterialCommunityIcons name=\"web\" style={styles.icon} />\n            <Text style={[styles.line, styles.subtitle]}>\n              Lightweight web version\n            </Text>\n            <Text style={[styles.line, styles.subtitle]}>\n              to preview and share palettes\n            </Text>\n            <Text style={[styles.line, styles.link]}>{CROMA_APP_URL}</Text>\n          </View>\n        </TouchableOpacity>\n      </View>\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingHorizontal: 12,\n    paddingVertical: 12\n  },\n  line: {\n    ...material.body1,\n    fontSize: 15,\n    textAlign: \"justify\"\n  },\n  icon: {\n    fontSize: 40,\n    color: \"black\"\n  },\n  linksMainView: {\n    paddingVertical: 15\n  },\n  linkView: {\n    paddingVertical: 20,\n    alignItems: \"center\"\n  },\n  subtitle: {\n    fontSize: 18,\n    textAlign: \"center\"\n  },\n  link: {\n    fontSize: 14\n  }\n});\n\nexport default AboutUsScreen;\n","import { Dimensions } from \"react-native\";\n\nexport const HEADER_HEIGHT = 56;\n\nconst width = Dimensions.get(\"window\").width;\nconst height = Dimensions.get(\"window\").height;\n\nexport default {\n  window: {\n    width,\n    height\n  },\n  isSmallDevice: width < 375\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Image,\n  Linking,\n  NativeModules,\n  StyleSheet,\n  Text,\n  View\n} from \"react-native\";\nimport Colors from \"../constants/Colors\";\nimport {\n  FontAwesome5,\n  Ionicons,\n  MaterialCommunityIcons,\n  MaterialIcons\n} from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\nimport { logEvent } from \"../libs/Helpers\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { HEADER_HEIGHT } from \"../constants/Layout\";\nimport { CromaContext } from \"../store/store\";\n\nexport default props => {\n  const pickImageResult = async base64 => {\n    return await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      quality: 1,\n      base64: base64\n    });\n  };\n  const [appInstallTime, setAppInstallTime] = useState(null);\n\n  const { setColorList, clearPalette } = React.useContext(CromaContext);\n\n  useEffect(() => {\n    (async () => {\n      const appInstallTime = await NativeModules.CromaModule.getAppInstallTime();\n      setAppInstallTime(parseInt(appInstallTime, 10));\n    })();\n  });\n\n  return (\n    <View style={[styles.container]}>\n      <Touchable\n        onPress={() => {\n          logEvent(\"hm_home_screen\");\n          props.navigation.navigate(\"Home\");\n        }}\n      >\n        <View style={[styles.titleArea]}>\n          <Image\n            style={styles.logo}\n            source={require(\"../assets/images/dots.png\")}\n          />\n          <Text style={styles.title}>Croma - Save you colors</Text>\n        </View>\n      </Touchable>\n      <ScrollView>\n        <View style={styles.menu}>\n          <Touchable\n            style={styles.menuItem}\n            onPress={() => {\n              logEvent(\"hm_create_new_palette\");\n              //console.error(props, 'check it man ')\n              clearPalette();\n              props.navigation.navigate(\"AddPaletteManually\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={[styles.menuIcon, { paddingLeft: 4 }]}>\n                <Ionicons name=\"md-color-filter\" style={styles.icon} />\n              </View>\n              <Text style={styles.textAreaMenuItem}>Create new palette</Text>\n            </View>\n          </Touchable>\n          <Touchable\n            style={styles.menuItem}\n            onPress={async () => {\n              logEvent(\"hm_palette_library\");\n              clearPalette();\n              props.navigation.navigate(\"PaletteLibrary\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={styles.menuIcon}>\n                <MaterialCommunityIcons\n                  name=\"palette-swatch\"\n                  style={styles.icon}\n                />\n              </View>\n              <Text style={styles.textAreaMenuItem}>Palette library</Text>\n            </View>\n          </Touchable>\n          <Touchable\n            style={styles.menuItem}\n            onPress={async () => {\n              const imageResult = await pickImageResult();\n              if (!imageResult.cancelled) {\n                const pickedColors = await NativeModules.CromaModule.navigateToImageColorPicker(\n                  imageResult.uri\n                );\n                logEvent(\"hm_pick_colors_from_img\", {\n                  length: pickedColors.length\n                });\n                clearPalette();\n                setColorList(JSON.parse(pickedColors)?.colors);\n                props.navigation.navigate(\"ColorList\");\n              }\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={styles.menuIcon}>\n                <MaterialCommunityIcons name=\"image\" style={styles.icon} />\n              </View>\n              <Text style={styles.textAreaMenuItem}>\n                Pick colors from an image\n              </Text>\n            </View>\n          </Touchable>\n          <Touchable\n            style={styles.menuItem}\n            onPress={async () => {\n              const pickedColors = await NativeModules.CromaModule.navigateToColorPicker();\n              logEvent(\"hm_pick_text_colors_from_camera\", {\n                length: pickedColors.length\n              });\n              clearPalette();\n              setColorList(JSON.parse(pickedColors)?.colors);\n              props.navigation.navigate(\"ColorList\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={styles.menuIcon}>\n                <MaterialCommunityIcons\n                  name=\"credit-card-scan-outline\"\n                  style={styles.icon}\n                />\n              </View>\n              <Text style={styles.textAreaMenuItem}>Scan color codes</Text>\n            </View>\n          </Touchable>\n          {hasRateUsPeriodExpired(appInstallTime) && (\n            <MenuLink\n              id={\"rate-us\"}\n              link={\"market://details?id=app.croma\"}\n              icon={<MaterialIcons name=\"rate-review\" style={styles.icon} />}\n            >\n              Like the App? Rate us\n            </MenuLink>\n          )}\n          <Touchable\n            style={styles.menuItem}\n            onPress={() => {\n              logEvent(\"hm_pro_benefits\");\n              props.navigation.navigate(\"ProVersion\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={[styles.menuIcon, { paddingLeft: 4 }]}>\n                <FontAwesome5 name=\"unlock\" style={styles.icon} />\n              </View>\n              <Text style={styles.textAreaMenuItem}>Pro benefites</Text>\n            </View>\n          </Touchable>\n          <Touchable\n            style={styles.menuItem}\n            onPress={async () => {\n              logEvent(\"hm_sync_palettes\");\n              props.navigation.navigate(\"SyncPalettes\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={styles.menuIcon}>\n                <FontAwesome5 name=\"file-import\" style={styles.icon} />\n              </View>\n              <Text style={styles.textAreaMenuItem}>\n                import/export palettes\n              </Text>\n            </View>\n          </Touchable>\n          <Touchable\n            style={styles.menuItem}\n            onPress={async () => {\n              logEvent(\"hm_about_us\");\n              props.navigation.navigate(\"AboutUs\");\n            }}\n          >\n            <View style={styles.menuItemView}>\n              <View style={{ ...styles.menuIcon, paddingLeft: 4 }}>\n                <MaterialCommunityIcons\n                  name=\"information-outline\"\n                  style={styles.icon}\n                />\n              </View>\n              <Text style={styles.textAreaMenuItem}>About us</Text>\n            </View>\n          </Touchable>\n        </View>\n      </ScrollView>\n    </View>\n  );\n\n  function hasRateUsPeriodExpired(appInstallTime) {\n    if (appInstallTime == null) return false;\n    return appInstallTime + fiveDaysDurationMillis() < new Date().getTime();\n  }\n  function fiveDaysDurationMillis() {\n    return 5 * 24 * 60 * 60 * 1000;\n  }\n};\n\nfunction MenuLink(props) {\n  return (\n    <Touchable\n      style={[styles.menuItem]}\n      onPress={() => {\n        logEvent(\"hm_link_\" + props.id);\n        Linking.openURL(props.link);\n      }}\n    >\n      <View style={styles.menuItemView}>\n        <View style={styles.menuIcon}>{props.icon}</View>\n        <Text style={styles.textAreaMenuItem}>{props.children}</Text>\n      </View>\n    </Touchable>\n  );\n}\nconst menuHeight = 50;\nconst padding = 10;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    marginTop: -4\n  },\n  titleArea: {\n    backgroundColor: Colors.primary,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: padding,\n    height: HEADER_HEIGHT\n  },\n  logo: {\n    width: 48,\n    height: 48,\n    padding: padding\n  },\n  title: {\n    fontWeight: \"800\",\n    textAlignVertical: \"center\",\n    padding: padding,\n    color: \"white\"\n  },\n  menu: {\n    flex: 1,\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n    alignSelf: \"stretch\"\n  },\n  menuItem: {\n    height: menuHeight\n  },\n  menuItemView: {\n    flex: 1,\n    flexDirection: \"row\"\n  },\n  textAreaMenuItem: {\n    fontWeight: \"800\",\n    textAlignVertical: \"center\",\n    padding: padding,\n    alignItems: \"flex-start\"\n  },\n  menuIcon: {},\n  icon: {\n    fontSize: menuHeight - 2 * padding,\n    padding: padding,\n    color: \"black\"\n  }\n});\n","import React from \"react\";\nimport { Dimensions, View, Linking, Platform, StyleSheet } from \"react-native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport ColorDetailsScreen from \"../screens/ColorDetailScreen\";\nimport ColorPickerScreen from \"../screens/ColorPickerScreen\";\nimport PalettesScreen from \"../screens/PalettesScreen\";\nimport SavePaletteScreen from \"../screens/SavePaletteScreen\";\nimport AddPaletteManuallyScreen from \"../screens/AddPaletteManuallyScreen\";\nimport ColorListScreen from \"../screens/ColorListScreen\";\nimport PaletteScreen from \"../screens/PaletteScreen\";\nimport HomeScreen from \"../screens/HomeScreen\";\nimport ProVersionScreen from \"../screens/ProVersionScreen\";\nimport SyncPalettesScreen from \"../screens/SyncPalettesScreen\";\nimport CommonPalettesScreen from \"../screens/CommonPalettesScreen\";\nimport PaletteLibraryScreen from \"../screens/PaletteLibraryScreen\";\nimport Colors from \"../constants/Colors\";\nimport {\n  Entypo,\n  FontAwesome,\n  MaterialCommunityIcons\n} from \"@expo/vector-icons\";\nimport Touchable from \"react-native-platform-touchable\";\nimport AboutUsScreen from \"../screens/AboutUsScreen\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport DrawerContentScrollView from \"@react-navigation/drawer/src/views/DrawerContentScrollView\";\nimport HamburgerMenu from \"../components/HamburgerMenu\";\nimport { HEADER_HEIGHT } from \"../constants/Layout\";\n\nconst screens = [\n  { name: \"AboutUs\", component: AboutUsScreen, options: { title: \"About Us\" } },\n  {\n    name: \"AddPaletteManually\",\n    component: AddPaletteManuallyScreen,\n    options: { title: \"\" }\n  },\n  { name: \"ColorDetails\", component: ColorDetailsScreen },\n  { name: \"ColorList\", component: ColorListScreen },\n  { name: \"CommonPalettes\", component: CommonPalettesScreen },\n  { name: \"ColorPicker\", component: ColorPickerScreen, options: { title: \"\" } },\n  { name: \"Home\", component: HomeScreen, options: { title: \"Croma\" } },\n  { name: \"Palette\", component: PaletteScreen },\n  {\n    name: \"PaletteLibrary\",\n    component: PaletteLibraryScreen,\n    options: { title: \"Palette library\" }\n  },\n  { name: \"Palettes\", component: PalettesScreen },\n  { name: \"ProVersion\", component: ProVersionScreen, options: { title: \"\" } },\n  { name: \"SavePalette\", component: SavePaletteScreen, options: { title: \"\" } },\n  {\n    name: \"SyncPalettes\",\n    component: SyncPalettesScreen,\n    options: { title: \"Import/Export your palettes\" }\n  }\n];\n\nconst Drawer = createDrawerNavigator();\nconst Stack = createStackNavigator();\n\nexport const getDrawerNavigator = () => {\n  const hamburgerMenuIcon = navigation => (\n    <Touchable\n      style={{ marginLeft: 8 }}\n      onPress={() => navigation.openDrawer()}\n    >\n      <Entypo name=\"menu\" style={styles.icon} />\n    </Touchable>\n  );\n\n  return (\n    <Drawer.Navigator\n      initialRouteName=\"Home\"\n      drawerType=\"front\"\n      drawerContent={getDrawerContent}\n    >\n      {screens.map(screen => {\n        const stackNavigatorComponent = () => (\n          <Stack.Navigator\n            screenOptions={{\n              ...screenOptions,\n              headerStyle: {\n                ...screenOptions.headerStyle,\n                height: HEADER_HEIGHT\n              }\n            }}\n            initialRouteName={screen.name}\n          >\n            <Stack.Screen\n              name={screen.name}\n              component={screen.component}\n              options={({ navigation }) => {\n                return {\n                  ...screen.options,\n                  headerLeft: () => hamburgerMenuIcon(navigation),\n                  headerTitleContainerStyle: { left: 40 }\n                };\n              }}\n            />\n          </Stack.Navigator>\n        );\n\n        return (\n          <Drawer.Screen\n            name={screen.name}\n            key={screen.name}\n            component={stackNavigatorComponent}\n          />\n        );\n      })}\n    </Drawer.Navigator>\n  );\n};\n\nconst getDrawerContent = props => (\n  <DrawerContentScrollView {...props} style={{ paddingTop: 0 }}>\n    <HamburgerMenu navigation={props.navigation} />\n  </DrawerContentScrollView>\n);\n\nexport const getStackNavigator = () => {\n  const wrappedScreens = screens.map(screen => ({\n    ...screen,\n    component: props => (\n      <View style={styles.contentWrapper}>\n        <screen.component {...props} />\n      </View>\n    )\n  }));\n\n  return (\n    <Stack.Navigator initialRouteName={\"Home\"} screenOptions={screenOptions}>\n      {wrappedScreens.map(screen => (\n        <Stack.Screen\n          name={screen.name}\n          key={screen.name}\n          options={{\n            ...screen.options\n          }}\n        >\n          {screen.component}\n        </Stack.Screen>\n      ))}\n    </Stack.Navigator>\n  );\n};\n\n// box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 4px -1px, rgba(0, 0, 0, 0.14) 0px 4px 5px 0px, rgba(0, 0, 0, 0.12) 0px 1px 10px 0px;\n\nconst screenOptions = {\n  headerStyle: {\n    backgroundColor: Colors.primary,\n    shadowOpacity: 0.3,\n    shadowRadius: 4,\n    shadowColor: \"black\",\n    shadowOffset: { height: 3, width: 0 },\n    borderBottomWidth: 0\n  },\n  cardStyle: {\n    backgroundColor: \"rgb(242, 242, 242)\"\n  },\n  headerRight: () =>\n    Platform.OS === \"web\" ? (\n      <View style={{ flexDirection: \"row\" }}>\n        <Touchable\n          style={{ padding: \"5px\", marginRight: \"10px\" }}\n          onPress={() => {\n            Linking.openURL(\"https://discord.gg/ZSBVsBqDtg\");\n          }}\n        >\n          <MaterialCommunityIcons name=\"discord\" style={styles.icon} />\n        </Touchable>\n        <Touchable\n          style={{ padding: \"5px\" }}\n          onPress={() => {\n            Linking.openURL(\n              \"https://play.google.com/store/apps/details?id=app.croma\"\n            );\n          }}\n        >\n          <Entypo name=\"google-play\" style={styles.icon} />\n        </Touchable>\n        <Touchable\n          style={{ padding: \"5px\", marginRight: \"10px\" }}\n          onPress={() => {\n            Linking.openURL(\"https://github.com/croma-app/croma-react\");\n          }}\n        >\n          <Entypo name=\"github\" style={styles.icon} />\n        </Touchable>\n      </View>\n    ) : (\n      \"\"\n    ),\n  headerTintColor: \"#fff\"\n};\n\nexport const linking = ({ setColorList, setSuggestedName }) => ({\n  enabled: Platform.OS === \"web\",\n  prefixes: [\"https://croma.app/\"],\n  config: {\n    screens: {\n      SavePalette: {\n        path: \"Main/SavePalette\",\n        parse: {\n          name: name => {\n            setSuggestedName(name);\n            return name;\n          },\n          colors: colors => {\n            setColorList(colors);\n            return colors;\n          }\n        }\n      }\n    }\n  }\n});\n\nconst styles = StyleSheet.create({\n  icon: { fontSize: 25, height: 25, color: \"white\" },\n  contentWrapper: {\n    maxWidth: 600,\n    right: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0),\n    left: Math.max((Dimensions.get(\"window\").width - 600) / 2, 0)\n  }\n});\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\nimport { logEvent } from \"../libs/Helpers\";\n\nexport default function AddPaletteManuallyScreen(props) {\n  logEvent(\"add_palette_manually_screen\");\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <SavePalette\n        title={\"ADD PALETTE NAME\"}\n        navigationPath={\"Palette\"}\n        navigation={props.navigation}\n      />\n    </ScrollView>\n  );\n}\n","import React from \"react\";\nimport { ScrollView } from \"react-native\";\nimport { SavePalette } from \"../components/SavePalette\";\nimport { logEvent } from \"../libs/Helpers\";\n\nexport default function SavePaletteScreen({ navigation }) {\n  logEvent(\"save_palette_screen\");\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <SavePalette\n        title={\"ADD NEW PALETTE\"}\n        navigationPath={\"Home\"}\n        navigation={navigation}\n      />\n    </ScrollView>\n  );\n}\n","/*\n  It will fix the broken web\n*/\nimport React, { useContext } from \"react\";\n\nexport default function SyncPalettesScreen() {\n  return null;\n}\n","import React from \"react\";\nimport { Platform } from \"react-native\";\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  componentDidCatch(error, info) {\n    if (Platform.OS === \"web\") {\n      window.location = \"/\";\n    }\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>;\n    }\n    return this.props.children;\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport {\n  ActivityIndicator,\n  NativeModules,\n  Platform,\n  StatusBar,\n  StyleSheet,\n  View\n} from \"react-native\";\nimport Colors from \"./constants/Colors\";\nimport {\n  linking,\n  getDrawerNavigator,\n  getStackNavigator\n} from \"./navigation/NavigatorHelper\";\nimport applicationHook, { CromaContext } from \"./store/store\";\nimport ErrorBoundary from \"./components/ErrorBoundary\";\nimport NavigationContainer from \"@react-navigation/native/src/NavigationContainer\";\n\nexport default function App() {\n  const [isPalettesLoaded, setIsPalettesLoaded] = useState(false);\n  const applicationState = applicationHook();\n\n  useEffect(() => {\n    (async () => {\n      await applicationState.loadInitPaletteFromStore();\n      setIsPalettesLoaded(true);\n      if (Platform.OS === \"android\") {\n        const isFree =\n          (await NativeModules.CromaModule.getConfigString(\"isProFree\")) ===\n          \"true\";\n        if (isFree) {\n          applicationState.setPurchase({\n            platfrom: \"android\",\n            isProFree: true\n          });\n        }\n      }\n    })();\n\n    if (Platform.OS === \"web\") {\n      applicationState.setPurchase({\n        platfrom: \"web\"\n      });\n    }\n  }, []);\n\n  const spinner = (\n    <View style={{ flex: 1, marginTop: \"20%\" }}>\n      <ActivityIndicator size=\"large\" color=\"#ef635f\" animating={true} />\n    </View>\n  );\n\n  const MainContent = (\n    <CromaContext.Provider value={applicationState}>\n      <ErrorBoundary>\n        <View style={[styles.container]}>\n          <StatusBar\n            barStyle=\"light-content\"\n            // dark-content, light-content and default\n            hidden={false}\n            //To hide statusBar\n            backgroundColor={Colors.primaryDark}\n            //Background color of statusBar only works for Android\n            translucent={false}\n            //allowing light, but not detailed shapes\n            networkActivityIndicatorVisible={true}\n          />\n          <View\n            style={[{ flex: 1, backgroundColor: \"transparent\" }]}\n            className={\"navigation-workplace\"}\n          >\n            <NavigationContainer linking={linking(applicationState)}>\n              {navigator}\n            </NavigationContainer>\n          </View>\n        </View>\n      </ErrorBoundary>\n    </CromaContext.Provider>\n  );\n\n  return !isPalettesLoaded ? spinner : MainContent;\n}\n\nconst getNavigator = () => {\n  return Platform.OS === \"android\" ? getDrawerNavigator() : getStackNavigator();\n};\n\nconst navigator = getNavigator();\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: Colors.backgroundColor,\n    flexDirection: \"row\"\n  }\n});\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function(info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function(error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","import { AsyncStorage } from \"react-native\";\nconst APPLICATION_STATE_KEY = \"APLICATION_STATE\";\nconst IS_USER_ALREADY_EXIST_KEY = \"IS_USER_ALREADY_EXIST\";\nexport default class Storage {\n  static getApplicationState = async () => {\n    let state = await AsyncStorage.getItem(APPLICATION_STATE_KEY);\n    if (state) {\n      return JSON.parse(state);\n    } else {\n      return {};\n    }\n  };\n\n  static setApplicationState = async state => {\n    await AsyncStorage.setItem(APPLICATION_STATE_KEY, JSON.stringify(state));\n  };\n\n  static setUserAlreadyExists = async () => {\n    await AsyncStorage.setItem(IS_USER_ALREADY_EXIST_KEY, \"true\");\n  };\n\n  static checkUserAlreadyExists = async () => {\n    return await AsyncStorage.getItem(IS_USER_ALREADY_EXIST_KEY);\n  };\n}\n","import React, { useState } from \"react\";\nimport InAppBilling from \"react-native-billing\";\nimport Storage from \"./../libs/Storage\";\nimport { Platform, ToastAndroid } from \"react-native\";\nconst UNDO_TIMEOUT = 3000;\n\nconst syncStateToStore = function(state) {\n  // TODO: We need to find a better way to do storage management.\n  // Fix this in a generic way with better storage management.\n  const stateCopy = JSON.parse(JSON.stringify(state));\n  delete stateCopy.isStoreLoaded;\n  Storage.setApplicationState(stateCopy);\n};\n\nconst sortPaletteColors = palette =>\n  palette.colors.sort((a, b) => (a.color > b.color ? 1 : -1));\n\nconst sortPalettes = allPalettes => {\n  // sorting palettes before save\n  const allPalettesArray = Object.keys(allPalettes).map(\n    key => allPalettes[key]\n  );\n  allPalettesArray.sort((a, b) => {\n    // Just a check for old user\n    if (!a.createdAt) {\n      a.createdAt = 0;\n    }\n    if (!b.createdAt) {\n      b.createdAt = 0;\n    }\n    return new Date(b.createdAt) - new Date(a.createdAt);\n  });\n  const ordered = {};\n  allPalettesArray.forEach(function(_palette) {\n    ordered[_palette.name] = _palette;\n  });\n  return ordered;\n};\n\nexport default function applicationHook() {\n  const addPalette = async palette => {\n    setState(state => {\n      const { allPalettes } = state;\n      sortPaletteColors(palette);\n      if (!palette.createdAt) {\n        palette.createdAt = new Date().valueOf();\n      }\n      allPalettes[palette.name] = palette;\n      const ordered = sortPalettes(allPalettes);\n      return { ...state, allPalettes: ordered };\n    });\n  };\n\n  const renamePalette = (oldName, name) => {\n    if (oldName === name) {\n      return;\n    }\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name] = allPalettes[oldName];\n      allPalettes[name][\"name\"] = name;\n      delete allPalettes[oldName];\n      const ordered = sortPalettes(allPalettes);\n      return { ...state, allPalettes: ordered };\n    });\n  };\n\n  const loadInitPaletteFromStore = async () => {\n    setState(state => ({ ...state, isLoading: true }));\n    // Loading application state from localStorage\n    const _state = await Storage.getApplicationState();\n    setState(state => ({\n      ...state,\n      ..._state,\n      isLoading: false\n    }));\n\n    // Setting default palette when user comming first time\n    let defaultPalettes = {};\n    const isUserAleadyExits = await Storage.checkUserAlreadyExists();\n\n    if (isUserAleadyExits != \"true\") {\n      if (Platform.OS !== \"web\") {\n        try {\n          await InAppBilling.open();\n          // If subscriptions/products are updated server-side you\n          // will have to update cache with loadOwnedPurchasesFromGoogle()\n          await InAppBilling.loadOwnedPurchasesFromGoogle();\n          isPurchased = await InAppBilling.isPurchased(\"croma_pro\");\n          if (isPurchased) {\n            ToastAndroid.show(\n              \"Your purchase restored successfully..\",\n              ToastAndroid.LONG\n            );\n          }\n          setState(state => {\n            return { ...state, isPro: isPurchased };\n          });\n        } catch (err) {\n          ToastAndroid.show(\n            \"Loading purchase detail failed. \" + err,\n            ToastAndroid.LONG\n          );\n        } finally {\n          await InAppBilling.close();\n        }\n      }\n      Storage.setUserAlreadyExists();\n      defaultPalettes = {\n        name: \"Croma example palette\",\n        colors: [\n          { color: \"#f0675f\" },\n          { color: \"#2f95dc\" },\n          { color: \"#ebef5c\" },\n          { color: \"#c9ef5b\" }\n        ]\n      };\n      addPalette(defaultPalettes);\n    }\n    setStoreLoaded(true);\n  };\n\n  const removePaletteFromStateByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      clearTimeout(deletedPalettes[name][\"timeout\"]);\n      delete deletedPalettes[name];\n      return { ...state, deletedPalettes };\n    });\n  };\n\n  const setPurchase = details => {\n    setState(state => {\n      return { ...state, isPro: true, purchaseDetails: details };\n    });\n  };\n\n  const setUser = user => {\n    setState(state => {\n      return { ...state, user: user };\n    });\n  };\n\n  const addColorToPalette = (name, color) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors = allPalettes[name].colors.concat(color);\n      sortPaletteColors(allPalettes[name]);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const deletePaletteByName = async name => {\n    setState(state => {\n      const { allPalettes, deletedPalettes } = state;\n      if (allPalettes[name]) {\n        deletedPalettes[name] = { ...allPalettes[name] };\n        delete allPalettes[name];\n        deletedPalettes[name][\"timeout\"] = setTimeout(() => {\n          removePaletteFromStateByName(name);\n        }, UNDO_TIMEOUT);\n        return { ...state, allPalettes, deletedPalettes };\n      }\n      return { ...state };\n    });\n  };\n\n  const undoDeletionByName = name => {\n    setState(state => {\n      const { deletedPalettes } = state;\n      if (deletedPalettes[name]) {\n        addPalette({ ...deletedPalettes[name] });\n        removePaletteFromStateByName(name);\n      }\n      return { ...state };\n    });\n  };\n\n  const colorDeleteFromPalette = (name, colorIndex) => {\n    setState(state => {\n      const { allPalettes } = state;\n      const deletedColor = allPalettes[name].colors.splice(colorIndex, 1);\n      deletedColor[0][\"timeout\"] = setTimeout(() => {\n        clearDeletedColor(name, deletedColor[0]);\n      }, UNDO_TIMEOUT);\n      if (allPalettes[name].deletedColors) {\n        allPalettes[name].deletedColors.push({ ...deletedColor[0] });\n      } else {\n        allPalettes[name].deletedColors = [...deletedColor];\n      }\n      return { ...state, allPalettes };\n    });\n  };\n\n  const undoColorDeletion = (name, colorName) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].colors.push({ color: colorName });\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorName) {\n          clearTimeout(color.timeout);\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      sortPaletteColors(allPalettes[name]);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const clearDeletedColor = (name, colorObj) => {\n    setState(state => {\n      const { allPalettes } = state;\n      allPalettes[name].deletedColors.forEach((color, index) => {\n        if (color.color === colorObj.color) {\n          allPalettes[name].deletedColors.splice(index, 1);\n        }\n      });\n      clearTimeout(colorObj.timeout);\n      return { ...state, allPalettes };\n    });\n  };\n\n  const setStoreLoaded = isStoreLoaded => {\n    setState(state => {\n      return { ...state, isStoreLoaded };\n    });\n  };\n\n  const setCurrentPalette = currentPalette => {\n    setState(state => {\n      return { ...state, currentPalette };\n    });\n  };\n\n  const setColorList = colorList => {\n    setState(state => {\n      return { ...state, colorList };\n    });\n  };\n\n  const setDetailedColor = detailedColor => {\n    setState(state => {\n      return { ...state, detailedColor };\n    });\n  };\n\n  const setColorPickerCallback = colorPickerCallback => {\n    setState(state => {\n      return { ...state, colorPickerCallback };\n    });\n  };\n\n  const setCommonPalettes = commonPalettes => {\n    setState(state => {\n      return { ...state, commonPalettes };\n    });\n  };\n\n  const setSuggestedName = suggestedName => {\n    setState(state => {\n      return { ...state, suggestedName };\n    });\n  };\n\n  const clearPalette = () => {\n    setSuggestedName(\"\");\n    setCurrentPalette({});\n    setColorList([]);\n  };\n\n  const [state, setState] = useState({\n    ...{\n      allPalettes: {},\n      currentPalette: {},\n      colorList: [],\n      deletedPalettes: {},\n      suggestedName: \"\",\n      isLoading: false,\n      isPro: false,\n      user: {},\n      isStoreLoaded: false,\n      colorPickerCallback: () => {}\n    },\n    loadInitPaletteFromStore,\n    undoDeletionByName,\n    deletePaletteByName,\n    addPalette,\n    renamePalette,\n    colorDeleteFromPalette,\n    undoColorDeletion,\n    addColorToPalette,\n    setPurchase,\n    setUser,\n    setStoreLoaded,\n    setCurrentPalette,\n    setDetailedColor,\n    setColorList,\n    setColorPickerCallback,\n    setCommonPalettes,\n    setSuggestedName,\n    clearPalette\n  });\n  // Sync state to local storage\n  if (state.isStoreLoaded === true) {\n    syncStateToStore(state);\n  }\n  return state;\n}\n\nexport const CromaContext = React.createContext();\n","const tintColor = \"#2f95dc\";\n\nexport default {\n  tintColor,\n  tabIconDefault: \"#ccc\",\n  tabIconSelected: tintColor,\n  tabBar: \"#fefefe\",\n  errorBackground: \"red\",\n  errorText: \"#fff\",\n  warningBackground: \"#EAEB5E\",\n  warningText: \"#666804\",\n  noticeBackground: tintColor,\n  noticeText: \"#fff\",\n  primary: \"#f1544d\",\n  primaryDark: \"#c94740\",\n  text: \"#fff\",\n  accent: \"#f0d04c\",\n  grey: \"#888\",\n  darkGrey: \"#333\",\n  lightGrey: \"#eee\",\n  white: \"#fff\",\n  black: \"#000\",\n  fadedBlack: \"rgba(0, 0, 0, .5)\",\n  backgroundColor: \"#f2f2f2\",\n  fabPrimary: \"#ff6f00\"\n};\n","const list = [require(\"./matrial-design.json\"), require(\"./color-wheel.json\")];\nexport default list;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAllBMVEUAAADt7WTl7WHG8WPx1WPI8WDx1mDD8l7y0F7E8mLr8mLy0WLF71/v01/F72Dv02Do8GHp8GDp8GDG8GDw02DE8GHw02HF8GDp8GDw02DE8GDw02Dp8GDF8GDp8GDw02DF8GDp8GDw02DF8GDw02DF8GDp8GDw02DF8GDp8GDw02DF8GDp8GDw02DF8GDp8GDw02D////NT1StAAAALnRSTlMAHB0kJCUlJiYnJyejo6Skqaqsra2urq+vr+fn7O3t7e7u7u/v8PDw8fHx8vLyavODNgAAAAFiS0dEMdnbHXIAAACfSURBVBgZ7cFrGoFAGIDRV1Ryj0iuiRCZmf2vzvT9HSvwzDl4nvevovm+KoZ0gmXbbkd0wtmuzGN+GN+MVY2B4KStSwAkV2WVCa7CiAJYapECuRI5rocRD6DVogFqJWpceyNuQKvFHdgpccU1NSIDtlosgIkSK1yDyljnCBhdtHXoAf1SWceQH4bZ57WJ6ARp0yx6dOLV+7kO8TzvT30BHNAZC6ZHI+MAAAAASUVORK5CYII=\"","import React from \"react\";\nimport * as Animatable from \"react-native-animatable\";\nimport { View, Text, StyleSheet, Platform, Dimensions } from \"react-native\";\nimport Touchable from \"react-native-platform-touchable\";\n\nexport const DialogContainer = props => (\n  <View style={styles.DialogContainer}>{props.children}</View>\n);\n\nexport const UndoDialog = props => {\n  /*\n    Todo - need to add deletion based on type\n  */\n  const { name, undoDeletionByName } = props;\n  return (\n    <Animatable.View\n      animation={\"fadeInUpBig\"}\n      duration={500}\n      style={[styles.undoCard, styles.marginAndRadius]}\n      useNativeDriver={true}\n    >\n      <View>\n        <Text style={styles.undoText}>Deleted {name}. </Text>\n      </View>\n      <Touchable\n        onPress={event => {\n          event.stopPropagation();\n          event.preventDefault();\n          undoDeletionByName(name);\n        }}\n      >\n        <Text style={styles.undoButton}> UNDO </Text>\n      </Touchable>\n    </Animatable.View>\n  );\n};\n\nexport const TextDialog = props => (\n  <Animatable.View\n    animation={\"fadeInUp\"}\n    duration={500}\n    useNativeDriver={true}\n    style={styles.undoCard}\n  >\n    <View>\n      <Text style={styles.undoText}>{props.text}</Text>\n    </View>\n  </Animatable.View>\n);\n\nconst styles = StyleSheet.create({\n  undoCard: {\n    backgroundColor: \"#303036\",\n    padding: 15,\n    flexDirection: \"row\",\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  marginAndRadius: {\n    margin: 2,\n    borderRadius: 6\n  },\n  undoText: {\n    color: \"#fff\",\n    fontSize: 15\n  },\n  undoButton: {\n    fontWeight: \"bold\",\n    color: \"#e6be0b\",\n    fontSize: 15\n  },\n  DialogContainer:\n    Platform.OS === \"web\"\n      ? {\n          position: \"fixed\",\n          bottom: 0,\n          left: 0,\n          width: Math.min(Dimensions.get(\"window\").width, 400) - 10,\n          margin: 5,\n          zIndex: 10\n        }\n      : {\n          position: \"absolute\",\n          bottom: 0,\n          width: \"100%\",\n          zIndex: 10\n        }\n});\n"],"sourceRoot":""}